{"directed": true, "multigraph": false, "graph": {}, "nodes": [{"size": 10, "id": "AztecPushupCounter"}, {"size": 10, "id": "__init__"}, {"size": 10, "id": "pose"}, {"size": 10, "id": "count"}, {"size": 10, "id": "prev_state"}, {"size": 10, "id": "current_state"}, {"size": 10, "id": "states"}, {"size": 10, "id": "height"}, {"size": 10, "id": "body_to_screen_ratio"}, {"size": 10, "id": "ankle_wrist_distance_thresh"}, {"size": 10, "id": "shoulder_hip_ankle"}, {"size": 10, "id": "vert_wrist_elbow"}, {"size": 10, "id": "vert_elbow_shoulder"}, {"size": 10, "id": "prev_ankle_y"}, {"size": 10, "id": "prev_wrist_y"}, {"size": 10, "id": "record"}, {"size": 10, "id": "flag"}, {"size": 10, "id": "record_exercise"}, {"size": 10, "id": "show_annotations"}, {"size": 10, "id": "feedback"}, {"size": 10, "id": "process_frame"}, {"size": 10, "id": "frame"}, {"size": 10, "id": "status"}, {"size": 10, "id": "image"}, {"size": 10, "id": "results"}, {"size": 10, "id": "frame_width"}, {"size": 10, "id": "frame_height"}, {"size": 10, "id": "landmarks"}, {"size": 10, "id": "left_wrist"}, {"size": 10, "id": "right_wrist"}, {"size": 10, "id": "left_shoulder"}, {"size": 10, "id": "right_shoulder"}, {"size": 10, "id": "left_hip"}, {"size": 10, "id": "right_hip"}, {"size": 10, "id": "left_ankle"}, {"size": 10, "id": "right_ankle"}, {"size": 10, "id": "left_elbow"}, {"size": 10, "id": "right_elbow"}, {"size": 10, "id": "left_knee"}, {"size": 10, "id": "right_knee"}, {"size": 10, "id": "head"}, {"size": 10, "id": "body_angle"}, {"size": 10, "id": "vert_wrist_elbow_angle"}, {"size": 10, "id": "vert_elbow_shoulder_angle"}, {"size": 10, "id": "shoulder_hip_ankle_angle"}, {"size": 10, "id": "shoulder_hip_knee_angle"}, {"size": 10, "id": "ankle_wrist_distance"}, {"size": 10, "id": "shoulder_ankle_distance"}, {"size": 10, "id": "cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)"}, {"size": 10, "id": "self.pose.process(image)"}, {"size": 10, "id": "results.pose_landmarks.landmark"}, {"size": 10, "id": "mp.solutions.pose.PoseLandmark.LEFT_WRIST"}, {"size": 10, "id": "mp.solutions.pose.PoseLandmark.RIGHT_WRIST"}, {"size": 10, "id": "mp.solutions.pose.PoseLandmark.LEFT_SHOULDER"}, {"size": 10, "id": "mp.solutions.pose.PoseLandmark.RIGHT_SHOULDER"}, {"size": 10, "id": "mp.solutions.pose.PoseLandmark.LEFT_HIP"}, {"size": 10, "id": "mp.solutions.pose.PoseLandmark.RIGHT_HIP"}, {"size": 10, "id": "mp.solutions.pose.PoseLandmark.LEFT_ANKLE"}, {"size": 10, "id": "mp.solutions.pose.PoseLandmark.RIGHT_ANKLE"}, {"size": 10, "id": "mp.solutions.pose.PoseLandmark.LEFT_ELBOW"}, {"size": 10, "id": "mp.solutions.pose.PoseLandmark.RIGHT_ELBOW"}, {"size": 10, "id": "mp.solutions.pose.PoseLandmark.LEFT_KNEE"}, {"size": 10, "id": "mp.solutions.pose.PoseLandmark.RIGHT_KNEE"}, {"size": 10, "id": "mp.solutions.pose.PoseLandmark.NOSE"}, {"size": 10, "id": "head.x*frame_width"}, {"size": 10, "id": "head.y*frame_height"}, {"size": 10, "id": "left_wrist.x * frame_width"}, {"size": 10, "id": "left_wrist.y * frame_height"}, {"size": 10, "id": "left_elbow.x * frame_width"}, {"size": 10, "id": "left_elbow.y * frame_height"}, {"size": 10, "id": "left_shoulder.x*frame_width"}, {"size": 10, "id": "left_shoulder.y*frame_height"}, {"size": 10, "id": "left_hip.x*frame_width"}, {"size": 10, "id": "left_hip.y*frame_height"}, {"size": 10, "id": "left_ankle.x*frame_width"}, {"size": 10, "id": "left_ankle.y*frame_height"}, {"size": 10, "id": "left_knee.x*frame_width"}, {"size": 10, "id": "left_knee.y*frame_height"}, {"size": 10, "id": "right_knee.x*frame_width"}, {"size": 10, "id": "right_knee.y*frame_height"}, {"size": 10, "id": "utils.old_vert_angle(head, left_ankle)"}, {"size": 10, "id": "utils.old_vert_angle(left_wrist, left_elbow)"}, {"size": 10, "id": "utils.old_vert_angle(left_elbow, left_shoulder)"}, {"size": 10, "id": "utils.angle(left_hip, left_shoulder, left_ankle)"}, {"size": 10, "id": "utils.angle(left_hip, left_shoulder, left_knee)"}, {"size": 10, "id": "utils.distance(left_ankle, left_wrist)"}, {"size": 10, "id": "utils.distance(left_shoulder, left_ankle)"}, {"size": 10, "id": "utils.distance(left_wrist, left_ankle)"}, {"size": 10, "id": "shoulder_ankle_distance / frame_width"}, {"size": 10, "id": "left_ankle.z < left_wrist.z"}, {"size": 10, "id": "left_ankle.z > left_wrist.z"}, {"size": 10, "id": "0<head.x<frame_width"}, {"size": 10, "id": "0< head.y < frame_height"}, {"size": 10, "id": "0 < left_ankle.x <frame_width"}, {"size": 10, "id": "0 < left_ankle.y <frame_height"}, {"size": 10, "id": "0 < right_ankle.x < frame_width"}, {"size": 10, "id": "0 < right_ankle.y < frame_height"}, {"size": 10, "id": "body_angle < 60"}, {"size": 10, "id": "body_to_screen_ratio < 0.2"}, {"size": 10, "id": "body_to_screen_ratio > 0.8"}, {"size": 10, "id": "self.shoulder_hip_ankle[2] >= shoulder_hip_knee_angle"}, {"size": 10, "id": "self.prev_state == \"s2\""}, {"size": 10, "id": "left_wrist.y < self.prev_wrist_y"}, {"size": 10, "id": "left_ankle.y < self.prev_ankle_y"}, {"size": 10, "id": "self.flag"}, {"size": 10, "id": "self.shoulder_hip_ankle[0] >= shoulder_hip_knee_angle >= self.shoulder_hip_ankle[1]"}, {"size": 10, "id": "self.vert_elbow_shoulder[0]<= vert_elbow_shoulder_angle<= self.vert_elbow_shoulder[1]"}, {"size": 10, "id": "self.shoulder_hip_ankle[1] > shoulder_hip_knee_angle >= self.shoulder_hip_ankle[2]"}, {"size": 10, "id": "ankle_wrist_distance> ankle_wrist_distance_thresh[0]"}, {"size": 10, "id": "prev_state == \"s2\""}, {"size": 10, "id": "self.current_state"}, {"size": 10, "id": "self.show_annotations"}, {"size": 10, "id": "self.prev_state == \"s3\""}, {"size": 10, "id": "self.current_state == \"s1\""}, {"size": 10, "id": "self.prev_state == None"}, {"size": 10, "id": "self.prev_wrist_y, self.prev_ankle_y = 0, 0"}, {"size": 10, "id": "self.record.append(status)"}, {"size": 10, "id": "self.prev_state = self.current_state"}, {"size": 10, "id": "cv2.putText(frame, \"Come Closer\", (10, 120), cv2.FONT_HERSHEY_SIMPLEX, 1, (255, 0, 0), 2)"}, {"size": 10, "id": "cv2.putText(frame, \"Too Close!!\", (10, 120), cv2.FONT_HERSHEY_SIMPLEX, 1, (255, 0, 0), 2)"}, {"size": 10, "id": "cv2.putText(frame, \"Perfect\", (10, 120), cv2.FONT_HERSHEY_SIMPLEX, 1, (0, 255, 0), 2)"}, {"size": 10, "id": "cv2.putText(frame, \"Current state: \"+self.current_state, (10, 60), cv2.FONT_HERSHEY_SIMPLEX, 1, (0, 45, 255), 2)"}, {"size": 10, "id": "cv2.putText(frame, \"Align properly\", (10, 150), cv2.FONT_HERSHEY_SIMPLEX, 1, (255, 0, 0), 2)"}, {"size": 10, "id": "cv2.putText(frame, \"Body out of frame\", (10, 150), cv2.FONT_HERSHEY_SIMPLEX, 1, (255, 0, 0), 2)"}, {"size": 10, "id": "cv2.putText(frame, \"No person detected\", (10, 150), cv2.FONT_HERSHEY_SIMPLEX, 1, (255, 0, 0), 2)"}, {"size": 10, "id": "cv2.putText(frame, \"Count: \" + str(self.count), (10, 40), cv2.FONT_HERSHEY_SIMPLEX, 2, (255, 255, 255), 2)"}, {"size": 10, "id": "cv2.putText(frame, \"Body Angle: \" + str(body_angle), (10, 180), cv2.FONT_HERSHEY_SIMPLEX, 2, (255, 255, 255), 2)"}, {"size": 10, "id": "cv2.putText(frame, \"Ankle: \" + str(left_ankle.y), (10, 220), cv2.FONT_HERSHEY_SIMPLEX, 2, (255, 0, 255), 2)"}, {"size": 10, "id": "cv2.putText(frame, \"Wrist: \" + str(left_wrist.y), (10,260), cv2.FONT_HERSHEY_SIMPLEX, 2, (255, 255, 0), 2)"}, {"size": 10, "id": "cv2.putText(frame, self.feedback, (10, 120), cv2.FONT_HERSHEY_SIMPLEX, 1, (0, 255, 0) if self.feedback == \"Perfect\" else (255, 0, 0), 2)"}], "links": [{"label": "has method", "width": 1, "source": "AztecPushupCounter", "target": "__init__"}, {"label": "has method", "width": 1, "source": "AztecPushupCounter", "target": "process_frame"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "pose"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "count"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "prev_state"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "current_state"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "states"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "height"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "body_to_screen_ratio"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "ankle_wrist_distance_thresh"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "shoulder_hip_ankle"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "vert_wrist_elbow"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "vert_elbow_shoulder"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "prev_ankle_y"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "prev_wrist_y"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "record"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "flag"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "record_exercise"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "show_annotations"}, {"label": "has attribute", "width": 1, "source": "__init__", "target": "feedback"}, {"label": "has parameter", "width": 1, "source": "process_frame", "target": "frame"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "status"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "image"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "results"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "frame_width"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "frame_height"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "landmarks"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_wrist"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "right_wrist"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_shoulder"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "right_shoulder"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_hip"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "right_hip"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_ankle"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "right_ankle"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_elbow"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "right_elbow"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_knee"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "right_knee"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "head"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "body_angle"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "vert_wrist_elbow_angle"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "vert_elbow_shoulder_angle"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "shoulder_hip_ankle_angle"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "shoulder_hip_knee_angle"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "ankle_wrist_distance"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "shoulder_ankle_distance"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "self.pose.process(image)"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "results.pose_landmarks.landmark"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "mp.solutions.pose.PoseLandmark.LEFT_WRIST"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "mp.solutions.pose.PoseLandmark.RIGHT_WRIST"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "mp.solutions.pose.PoseLandmark.LEFT_SHOULDER"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "mp.solutions.pose.PoseLandmark.RIGHT_SHOULDER"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "mp.solutions.pose.PoseLandmark.LEFT_HIP"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "mp.solutions.pose.PoseLandmark.RIGHT_HIP"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "mp.solutions.pose.PoseLandmark.LEFT_ANKLE"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "mp.solutions.pose.PoseLandmark.RIGHT_ANKLE"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "mp.solutions.pose.PoseLandmark.LEFT_ELBOW"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "mp.solutions.pose.PoseLandmark.RIGHT_ELBOW"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "mp.solutions.pose.PoseLandmark.LEFT_KNEE"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "mp.solutions.pose.PoseLandmark.RIGHT_KNEE"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "mp.solutions.pose.PoseLandmark.NOSE"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "head.x*frame_width"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "head.y*frame_height"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_wrist.x * frame_width"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_wrist.y * frame_height"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_elbow.x * frame_width"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_elbow.y * frame_height"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_shoulder.x*frame_width"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_shoulder.y*frame_height"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_hip.x*frame_width"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_hip.y*frame_height"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_ankle.x*frame_width"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_ankle.y*frame_height"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_knee.x*frame_width"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_knee.y*frame_height"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "right_knee.x*frame_width"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "right_knee.y*frame_height"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "utils.old_vert_angle(head, left_ankle)"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "utils.old_vert_angle(left_wrist, left_elbow)"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "utils.old_vert_angle(left_elbow, left_shoulder)"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "utils.angle(left_hip, left_shoulder, left_ankle)"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "utils.angle(left_hip, left_shoulder, left_knee)"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "utils.distance(left_ankle, left_wrist)"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "utils.distance(left_shoulder, left_ankle)"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "utils.distance(left_wrist, left_ankle)"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "shoulder_ankle_distance / frame_width"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_ankle.z < left_wrist.z"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_ankle.z > left_wrist.z"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "0<head.x<frame_width"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "0< head.y < frame_height"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "0 < left_ankle.x <frame_width"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "0 < left_ankle.y <frame_height"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "0 < right_ankle.x < frame_width"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "0 < right_ankle.y < frame_height"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "body_angle < 60"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "body_to_screen_ratio < 0.2"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "body_to_screen_ratio > 0.8"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "self.shoulder_hip_ankle[2] >= shoulder_hip_knee_angle"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "self.prev_state == \"s2\""}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_wrist.y < self.prev_wrist_y"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "left_ankle.y < self.prev_ankle_y"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "self.flag"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "self.shoulder_hip_ankle[0] >= shoulder_hip_knee_angle >= self.shoulder_hip_ankle[1]"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "self.vert_elbow_shoulder[0]<= vert_elbow_shoulder_angle<= self.vert_elbow_shoulder[1]"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "self.shoulder_hip_ankle[1] > shoulder_hip_knee_angle >= self.shoulder_hip_ankle[2]"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "ankle_wrist_distance> ankle_wrist_distance_thresh[0]"}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "prev_state == \"s2\""}, {"label": "has attribute", "width": 1, "source": "process_frame", "target": "self.current_state"}]}